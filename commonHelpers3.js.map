{"version":3,"file":"commonHelpers3.js","sources":["../src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\nconst formEl = document.querySelector('.feedback-form');\nconst KEY_FORM_VALUES = 'feedback-form-state';\n\nlet formDataFromLS = JSON.parse(localStorage.getItem(KEY_FORM_VALUES)) ?? {};\nformEl.email.value = formDataFromLS.email ?? '';\nformEl.message.value = formDataFromLS.message ?? '';\n\nformEl.addEventListener('submit', evt => {\n  evt.preventDefault();\n  localStorage.clear();\n  console.log(formDataFromLS);\n  evt.currentTarget.reset();\n  formDataFromLS = {};\n});\n\nformEl.addEventListener('input', throttle(inputHandler, 500));\nfunction inputHandler({ target } = evt) {\n  const formData = JSON.parse(localStorage.getItem(KEY_FORM_VALUES)) ?? {};\n  formData[target.name] = target.value;\n  localStorage.setItem(KEY_FORM_VALUES, JSON.stringify(formData));\n}\n"],"names":["formEl","KEY_FORM_VALUES","formDataFromLS","evt","throttle","inputHandler","target","formData"],"mappings":"mIACA,MAAMA,EAAS,SAAS,cAAc,gBAAgB,EAChDC,EAAkB,sBAExB,IAAIC,EAAiB,KAAK,MAAM,aAAa,QAAQD,CAAe,CAAC,GAAK,GAC1ED,EAAO,MAAM,MAAQE,EAAe,OAAS,GAC7CF,EAAO,QAAQ,MAAQE,EAAe,SAAW,GAEjDF,EAAO,iBAAiB,SAAUG,GAAO,CACvCA,EAAI,eAAc,EAClB,aAAa,MAAK,EAClB,QAAQ,IAAID,CAAc,EAC1BC,EAAI,cAAc,QAClBD,EAAiB,CAAA,CACnB,CAAC,EAEDF,EAAO,iBAAiB,QAASI,EAAAA,SAASC,EAAc,GAAG,CAAC,EAC5D,SAASA,EAAa,CAAE,OAAAC,CAAQ,EAAG,IAAK,CACtC,MAAMC,EAAW,KAAK,MAAM,aAAa,QAAQN,CAAe,CAAC,GAAK,GACtEM,EAASD,EAAO,MAAQA,EAAO,MAC/B,aAAa,QAAQL,EAAiB,KAAK,UAAUM,CAAQ,CAAC,CAChE"}